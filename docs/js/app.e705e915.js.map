{"version":3,"file":"js/app.e705e915.js","mappings":"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","sources":["webpack://tronbox/./src/App.vue","webpack://tronbox/./src/components/tron-box/tron-box.vue","webpack://tronbox/./src/components/tron-box/tron/models/GridExtensions.js","webpack://tronbox/./src/components/tron-box/tron/Renderer.js","webpack://tronbox/./src/components/tron-box/tron/models/Point.js","webpack://tronbox/./src/components/tron-box/tron/models/Constants.js","webpack://tronbox/./src/components/tron-box/tron/Engine.js","webpack://tronbox/./src/components/tron-box/tron/ai/clockwise.ai.js","webpack://tronbox/./src/components/tron-box/tron/ai/counterclockwise.ai.js","webpack://tronbox/./src/components/tron-box/tron-box.vue?f7e1","webpack://tronbox/./src/App.vue?7ccd","webpack://tronbox/./src/main.js","webpack://tronbox/webpack/bootstrap","webpack://tronbox/webpack/runtime/chunk loaded","webpack://tronbox/webpack/runtime/compat get default export","webpack://tronbox/webpack/runtime/define property getters","webpack://tronbox/webpack/runtime/global","webpack://tronbox/webpack/runtime/hasOwnProperty shorthand","webpack://tronbox/webpack/runtime/make namespace object","webpack://tronbox/webpack/runtime/jsonp chunk loading","webpack://tronbox/webpack/startup"],"sourcesContent":["<template>\n  <TronBox canvas-id=\"grid\" />\n</template>\n\n<script>\nimport TronBox from \"./components/tron-box/tron-box.vue\";\n\nexport default {\n  name: \"App\",\n  components: {\n    TronBox\n  },\n};\n</script>\n\n<style>\n</style>\n","<template>\r\n  <div class=\"grid-box\">\r\n    <div class=\"header\">\r\n      <h1>Battle Tron</h1>\r\n    </div>\r\n    <div class=\"flex-box-row\">\r\n      <div>\r\n        <!-- Canvas will default to 300 x 150 if width and height aren't manually set -->\r\n\r\n        <p class=\"tip\">\r\n          Press 'a' or 'b' on the keyboard to place a bot at your mouse\r\n          position!\r\n        </p>\r\n        <canvas\r\n          :id=\"canvasId\"\r\n          ref=\"canvas\"\r\n          width=\"500\"\r\n          class=\"canvas-style\"\r\n          height=\"500\"\r\n          @mousemove=\"mouseMove\"\r\n          @mouseenter=\"mouseEnter\"\r\n          @mouseexit=\"mouseExit\"\r\n        />\r\n        <div v-if=\"showWinnerText\">\r\n          <h2>Winners:</h2>\r\n          <ol>\r\n            <li\r\n              v-for=\"winner in engine.winners\"\r\n              :key=\"winner.id\"\r\n              :style=\"`color: ${winner.color}`\"\r\n            >TRAIL [{{ winner.id }}]</li>\r\n          </ol>\r\n        </div>\r\n      </div>\r\n      <div class=\"editor\">\r\n        <div class=\"controls\">\r\n          <div class=\"control\">\r\n            <button class=\"btn btn-dark\" @click=\"addTrail(botA)\">ADD [A]</button>\r\n            <input id=\"colorPickerA\" v-model=\"botA.color\" type=\"color\" />\r\n          </div>\r\n          <div class=\"control\">\r\n            <button class=\"btn btn-dark\" @click=\"addTrail(botB)\">ADD [B]</button>\r\n            <input id=\"colorPickerB\" v-model=\"botB.color\" type=\"color\" />\r\n          </div>\r\n          <button class=\"btn btn-dark\" @click=\"clear\">CLEAR</button>\r\n          <button class=\"btn btn-dark\" @click=\"reset\">RANDOM</button>\r\n          <button class=\"btn btn-dark\" @click=\"togglePause\">{{ pauseBtnText }}</button>\r\n          <button class=\"btn btn-dark\" @click=\"step\">STEP</button>\r\n        </div>\r\n\r\n        <textarea v-model=\"botA.js\" class=\"code-area\"></textarea>\r\n        <textarea v-model=\"botB.js\" class=\"code-area\"></textarea>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Renderer } from \"./tron/Renderer\";\r\nimport { Engine } from \"./tron/Engine\";\r\nimport clockwiseExampleAi from \"raw-loader!./tron/ai/clockwise.ai.js\"; /* Load the raw JS as a string */\r\nimport counterclockwiseExampleAi from \"raw-loader!./tron/ai/counterclockwise.ai.js\"; /* Load the raw JS as a string */\r\n\r\nexport default {\r\n  name: \"TronBox\",\r\n  props: {\r\n    canvasId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data: () => ({\r\n    botA: {\r\n      js: undefined,\r\n      color: \"#FF0000\",\r\n    },\r\n    botB: {\r\n      js: undefined,\r\n      color: \"#0000FF\",\r\n    },\r\n    renderer: undefined,\r\n    engine: undefined,\r\n    paused: true,\r\n    mousePos: { x: 0, y: 0 },\r\n    mouseIsOnCanvas: false,\r\n    lastKeyPressed: undefined,\r\n  }),\r\n  computed: {\r\n    pauseBtnText: function () {\r\n      return this.paused ? \"PLAY\" : \"PAUSE\";\r\n    },\r\n    showWinnerText: function () {\r\n      return this.engine?.winners?.length > 0;\r\n    },\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"keydown\", this.keyDown);\r\n    window.addEventListener(\"keyup\", this.keyUp);\r\n    this.renderer = new Renderer(this.canvasId);\r\n    this.engine = new Engine();\r\n    this.botA.js = clockwiseExampleAi;\r\n    this.botB.js = counterclockwiseExampleAi;\r\n    this.start();\r\n  },\r\n  methods: {\r\n    addTrail(bot, pos) {\r\n      let getMove = this.engine.parseRawJsIntoGetMoveFunction(bot.js);\r\n      this.engine.addTrail(getMove, bot.color, pos);\r\n      bot.color = this.engine.getRandomColor();\r\n    },\r\n    clear() {\r\n      this.engine.reset();\r\n      this.renderer.reset();\r\n    },\r\n    step() {\r\n      this.engine.step();\r\n    },\r\n    reset() {\r\n      this.clear();\r\n      this.addInitialTrails();\r\n    },\r\n    addInitialTrails() {\r\n      this.addTrail(this.botA);\r\n      this.addTrail(this.botB);\r\n    },\r\n    start() {\r\n      this.addInitialTrails();\r\n      this.loop();\r\n    },\r\n    togglePause() {\r\n      this.paused = !this.paused;\r\n    },\r\n    mouseEnter() {\r\n      this.mouseIsOnCanvas = true;\r\n    },\r\n    mouseExit() {\r\n      this.mouseIsOnCanvas = false;\r\n    },\r\n    addBotAtMousePos(bot) {\r\n      if (!this.mouseIsOnCanvas) {\r\n        return;\r\n      }\r\n\r\n      var gridPos = this.renderer.convertMousePosToGridPos(this.mousePos);\r\n      if (!gridPos || Grid.isOccupied(this.engine.grid, gridPos)) {\r\n        return;\r\n      }\r\n\r\n      this.addTrail(bot, gridPos);\r\n    },\r\n    keyDown(keyEvent) {\r\n      // Prevent multiple events when holding down a key:\r\n      if (this.lastKeyPressed == keyEvent.key) {\r\n        return;\r\n      }\r\n      this.lastKeyPressed = keyEvent.key;\r\n      if (keyEvent.key == \"a\") {\r\n        this.addBotAtMousePos(this.botA);\r\n      } else if (keyEvent.key == \"b\") {\r\n        this.addBotAtMousePos(this.botB);\r\n      }\r\n    },\r\n    keyUp(keyEvent) {\r\n      this.lastKeyPressed = undefined;\r\n    },\r\n    mouseMove(event) {\r\n      var rect = this.$refs.canvas.getBoundingClientRect();\r\n      this.mousePos = {\r\n        x: Math.floor(event.clientX - rect.left),\r\n        y: Math.floor(event.clientY - rect.top),\r\n      };\r\n    },\r\n    loop() {\r\n      if (!this.paused) {\r\n        this.engine.step();\r\n      }\r\n      this.renderer.render(this.engine.grid, this.engine.trails);\r\n      setTimeout(this.loop, 50);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.tip {\r\n  font-style: italic;\r\n  color: #999;\r\n}\r\n\r\n.canvas-style {\r\n  width: 100%;\r\n  height: 100%;\r\n  border: none;\r\n  display: block;\r\n  margin: auto;\r\n  box-shadow: 0 0 18px 5px black;\r\n}\r\n\r\n.editor {\r\n  min-width: 700px;\r\n\r\n  .controls {\r\n    text-align: left;\r\n    padding-bottom: 5px;\r\n    display: flex;\r\n    gap: 10px;\r\n\r\n    .control {\r\n      display: inline-flex;\r\n      flex-direction: column;\r\n      align-items: baseline;\r\n      gap: 5px;\r\n      * {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.flex-box-row {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  gap: 50px;\r\n}\r\n\r\n.grid-box {\r\n  padding: 50px;\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-template-rows: 100px 1fr;\r\n  column-gap: 10px;\r\n}\r\n\r\n.header {\r\n  grid-column: 1 / 3;\r\n}\r\n\r\n.code-area {\r\n  width: 100%;\r\n  min-height: 600px;\r\n  font-family: \"Courier New\", Courier, monospace;\r\n  font-size: small;\r\n}\r\n\r\n/* width */\r\n.code-area::-webkit-scrollbar {\r\n  width: 10px;\r\n}\r\n\r\n/* Track */\r\n.code-area::-webkit-scrollbar-track {\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n/* Fix scrollbar cursor bug: */\r\ntextarea {\r\n  cursor: auto;\r\n}\r\n\r\n/* Handle */\r\n.code-area::-webkit-scrollbar-thumb {\r\n  background-color: rgb(0, 129, 32);\r\n}\r\n/* Handle on hover */\r\n.code-area::-webkit-scrollbar-thumb:hover {\r\n  background: rgb(2, 80, 32);\r\n}\r\n</style>\r\n","export class Grid {\r\n    constructor() { }\r\n\r\n    static isOccupied(grid, pos) {\r\n        if (!grid || !grid.length || !grid[0].length) {\r\n            return;\r\n        }\r\n        if (pos.x >= grid.length || pos.x < 0 || pos.y < 0 || pos.y >= grid[pos.x].length) {\r\n            return;\r\n        }\r\n        if (grid[pos.x][pos.y].occupied) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static flatten(grid) {\r\n        return grid\r\n            .map((col, x) => col.map((cell, y) => {\r\n                cell.gridPosition = new Point(x, y);\r\n                return cell;\r\n            }))\r\n            .flatMap(x => x);\r\n    }\r\n}","import { Point } from \"paper/dist/paper-core\";\r\nimport { Grid } from \"./models/GridExtensions\";\r\n\r\nconst paper = require(\"paper\");\r\n\r\nexport class Renderer {\r\n  constructor(canvasId) {\r\n    this.canvasId = canvasId;\r\n    this.reset();\r\n  };\r\n\r\n  reset() {\r\n    paper.project?.activeLayer?.removeChildren();\r\n    /* \r\n      Vue.js doesn't reset global paper object\r\n      when app re-compiles during development.\r\n      This leads to bugs and \"memory-leaks\".\r\n      This is the best solution I can come up with:\r\n    */\r\n    paper.projects.forEach(project => {\r\n      console.log(\"Unexpected project found. Removing...\");\r\n      project.remove();\r\n    });\r\n    paper.setup(this.canvasId);\r\n\r\n    this.grid = undefined;\r\n    this.trailStuff = {};\r\n    this.colors = [\"#A72334\", \"#FC7A43\", \"#ECCF39\", \"#6FAF60\",\r\n      \"#02654B\", \"#188DBF\", \"#22379B\", \"#7209b7\",\r\n      \"#f72585\"];\r\n    this.colorIndex = 0;\r\n  }\r\n\r\n  convertMousePosToGridPos(mousePos) {\r\n    if (!this.grid) {\r\n      return;\r\n    }\r\n\r\n    var intersectingCell = Grid\r\n      .flatten(this.grid)\r\n      .find(x => x.hitTest(new Point(mousePos.x, mousePos.y)));\r\n\r\n    if (intersectingCell) {\r\n      return intersectingCell.gridPosition;\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  render(grid, trails) {\r\n    if (this.grid === undefined) {\r\n      var cellWidth = 50;\r\n\r\n      this.grid = grid.map((col, x) =>\r\n        col.map((el, y) => {\r\n          var cell = new paper.Path.Rectangle(\r\n            new paper.Point(x * cellWidth, y * cellWidth),\r\n            new paper.Size(cellWidth, cellWidth)\r\n          );\r\n          cell.strokeColor = \"#444\"; // #290\r\n          cell.fillColor = \"#090909\";\r\n          return cell;\r\n        })\r\n      );\r\n    }\r\n    for (let trail of trails) {\r\n      if (!this.trailStuff[trail.id]) {\r\n        this.trailStuff[trail.id] = {};\r\n      }\r\n      let trailStuff = this.trailStuff[trail.id];\r\n      for (let point of trail.tail) {\r\n        let trailCell = this.grid[point.x][point.y];\r\n        trailCell.fillColor = trail.color;\r\n        trailCell.strokeWidth = 1;\r\n        trailCell.shadowColor = \"#000\";\r\n        trailCell.shadowBlur = 10;\r\n      }\r\n\r\n      if (!trailStuff.wireframe) {\r\n        trailStuff.wireframe = new paper.Path(\r\n          [...trail.tail, trail.head].map(x => this.grid[x.x][x.y].position)\r\n        );\r\n        trailStuff.wireframe.strokeColor = new paper.Color(0, 0, 0, 0.25);\r\n        trailStuff.wireframe.strokeWidth = 5;\r\n      }\r\n      if (trailStuff.wireframe.segments.at(-1).x != trail.head.x\r\n        && trailStuff.wireframe.segments.at(-1).y != trail.head.y) {\r\n        trailStuff.wireframe.add(this.grid[trail.head.x][trail.head.y].position);\r\n      }\r\n\r\n      let headCell = this.grid[trail.head.x][trail.head.y];\r\n      headCell.strokeColor = trail.color;\r\n      headCell.fillColor = trail.color;\r\n      headCell.strokeWidth = 10;\r\n      headCell.shadowColor = \"#000\";\r\n      headCell.shadowBlur = 20;\r\n      headCell.bringToFront();\r\n\r\n      let headIndicator = trailStuff.headIndicator;\r\n      if (!headIndicator) {\r\n        headIndicator = new paper.Path.Circle(headCell.position, 15);\r\n        headIndicator.fillColor = trail.color;\r\n        headIndicator.strokeColor = \"#FFF\";\r\n        headIndicator.strokeWidth = 10;\r\n        trailStuff.headIndicator = headIndicator;\r\n      }\r\n      if (!trail.alive && !trailStuff.deadSymbolHead) {\r\n        headIndicator.remove();\r\n        let triangle = new paper.Path.RegularPolygon(headCell.position, 3, 25);\r\n        triangle.fillColor = '#000';\r\n        triangle.position = headCell.position;\r\n        trailStuff.deadSymbolHead = triangle;\r\n      }\r\n\r\n      trailStuff.wireframe.bringToFront();\r\n      headIndicator.bringToFront();\r\n      headIndicator.position = headCell.position;\r\n      trailStuff.deadSymbolHead?.bringToFront();\r\n    }\r\n  }\r\n}","export class Point {\r\n    constructor(x = 0, y = 0) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}","import { Point } from \"./Point\";\r\n\r\nexport const Constants = {\r\n    colors: [\"#A72334\", \"#FC7A43\", \"#ECCF39\", \"#6FAF60\",\r\n        \"#02654B\", \"#188DBF\", \"#22379B\", \"#7209b7\",\r\n        \"#f72585\"],\r\n    MoveDirection: {\r\n        UP: new Point(0, -1),\r\n        DOWN: new Point(0, 1),\r\n        LEFT: new Point(-1, 0),\r\n        RIGHT: new Point(1, 0)\r\n    }\r\n}\r\n","import { Constants } from \"./models/Constants\";\r\nimport { Point } from \"paper/dist/paper-core\";\r\nimport { Grid } from \"./models/GridExtensions\";\r\n\r\nexport class Engine {\r\n  constructor() {\r\n    window.Constants = Constants;\r\n    window.Point = Point;\r\n    window.Grid = Grid;\r\n\r\n    this.reset();\r\n  }\r\n\r\n  reset() {\r\n    this.path = null;\r\n    this.point = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.grid = undefined;\r\n    this.trails = [];\r\n    this.gridWidth = 10;\r\n    this.colorIndex = 0;\r\n    this.winners = [];\r\n    this.createGrid();\r\n  }\r\n\r\n  get allBotsDead() {\r\n    return this.trails.every(x => !x.alive);\r\n  }\r\n\r\n  createGrid() {\r\n    this.grid = [];\r\n    for (var x = 0; x < this.gridWidth; x++) {\r\n      this.grid[x] = [];\r\n      for (var y = 0; y < this.gridWidth; y++) {\r\n        var cell = {\r\n          id: undefined,\r\n          get occupied() {\r\n            return this.id != undefined;\r\n          }\r\n        };\r\n        this.grid[x].push(cell);\r\n      }\r\n    }\r\n  };\r\n\r\n  createTrail(x, y, color, id, getMove) {\r\n    let trail = {\r\n      head: new Point(x, y),\r\n      tail: [], // queue type?\r\n      color: color,\r\n      alive: true,\r\n      id: id,\r\n      getMove: getMove,\r\n      applyMove(grid, trails, headPos, moveDir) {\r\n        if (!moveDir || moveDir.x == undefined || moveDir.y == undefined) {\r\n          console.log(\"Error - moveDir is not a valid Point object. Killing trail. moveDir supplied:\", moveDir);\r\n          this.alive = false;\r\n          return;\r\n        }\r\n        if (!Object.keys(Constants.MoveDirection).map(key => Constants.MoveDirection[key]).some(x => moveDir.x == x.x && moveDir.y == x.y)) {\r\n          console.log(\"Invalid move supplied! Killing trail. Move supplied: \", moveDir);\r\n          this.alive = false;\r\n          return;\r\n        }\r\n\r\n        let move = new Point(headPos.x + moveDir.x, headPos.y + moveDir.y);\r\n        if ((move.x < 0 || move.x >= grid.length) ||\r\n          (move.y < 0 || move.y >= grid[0].length)) {\r\n          console.log(`%cTRAIL [${this.id}] %ctried to escape the grid! They failed...`, 'color: ' + this.color, 'color: auto');\r\n          this.alive = false;\r\n          return;\r\n        }\r\n        if (grid[move.x][move.y].occupied) {\r\n          var otherTrailId = grid[move.x][move.y].id;\r\n          var otherTrail = trails.find(x => x.id == otherTrailId);\r\n          console.log(`%cTRAIL [${this.id}] %chit %cTRAIL [${otherTrail.id}]`, 'color: ' + this.color, 'color: auto', 'color: ' + otherTrail.color);\r\n          this.alive = false;\r\n          return;\r\n        }\r\n\r\n        this.tail.push(this.head);\r\n        this.head = move;\r\n        grid[trail.head.x][trail.head.y].id = trail.id;\r\n        return true;\r\n      },\r\n    };\r\n    return trail;\r\n  }\r\n\r\n  parseRawJsIntoGetMoveFunction(raw_ai_js) {\r\n    let usrGetMove = new Function('return getMove; ' + raw_ai_js)();\r\n    return usrGetMove;\r\n  }\r\n\r\n  getRandomValidPos() {\r\n    var openSpots = Grid\r\n      .flatten(this.grid)\r\n      .filter(x => !x.occupied);\r\n\r\n    if (openSpots.length < 1) {\r\n      console.log(\"No open spots to spawn in a tron bike!\");\r\n      return;\r\n    }\r\n    var pos = openSpots[Math.floor(Math.random() * openSpots.length)].gridPosition;\r\n    return pos;\r\n  }\r\n\r\n  getRandomColor() {\r\n    var color = Constants.colors[this.colorIndex++];\r\n    if (this.colorIndex >= Constants.colors.length) {\r\n      console.log(\"No more colors to create a trail with...\");\r\n      return;\r\n    }\r\n    return color;\r\n  }\r\n\r\n  addTrail(getMove_func, color, pos) {\r\n    pos = pos || this.getRandomValidPos();\r\n    if (!pos) {\r\n      return;\r\n    }\r\n    color = color || this.getRandomColor();\r\n\r\n    var id = this.trails.length;\r\n    var trail = this.createTrail(pos.x, pos.y, color, id, getMove_func);\r\n    this.trails.push(trail);\r\n    this.grid[trail.head.x][trail.head.y].id = trail.id;\r\n  }\r\n\r\n  getRandomColor() {\r\n    const randomInt = (min, max) => {\r\n      return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    };\r\n\r\n    function hslToHex(h, s, l) {\r\n      l /= 100;\r\n      const a = s * Math.min(l, 1 - l) / 100;\r\n      const f = n => {\r\n        const k = (n + h / 30) % 12;\r\n        const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\r\n        return Math.round(255 * color).toString(16).padStart(2, '0');   // convert to Hex and prefix \"0\" if needed\r\n      };\r\n      return `#${f(0)}${f(8)}${f(4)}`;\r\n    }\r\n    var h = randomInt(0, 360);\r\n    var s = randomInt(50, 100);\r\n    var l = randomInt(30, 70);\r\n\r\n    return hslToHex(h, s, l);\r\n  }\r\n\r\n  determineWinners() {\r\n    if (this.trails.length < 1) {\r\n      return;\r\n    }\r\n\r\n    var pointMap = Grid\r\n      .flatten(this.grid)\r\n      .filter(x => x.occupied)\r\n      .reduce((prev, cur) => {\r\n        if (!prev[cur.id]) {\r\n          prev[cur.id] = {\r\n            points: 0,\r\n            id: cur.id\r\n          };\r\n        }\r\n        prev[cur.id].points += 1;\r\n        return prev;\r\n      }, {});\r\n\r\n    if (Object.keys(pointMap).length < 1) {\r\n      return;\r\n    }\r\n\r\n    let mostPoints = Object.keys(pointMap)\r\n      .map(key => pointMap[key])\r\n      .sort((a, b) => b.points - a.points)\r\n    [0].points;\r\n\r\n    let tempWinners = Object.keys(pointMap)\r\n      .map(key => pointMap[key])\r\n      .filter(x => x.points == mostPoints);\r\n\r\n    for (var trail of Object.keys(pointMap).map(key => pointMap[key])) {\r\n      console.log(`TRAIL [${trail.id}] has ${trail.points} points.`);\r\n    }\r\n\r\n    console.log(\"\\n\\n\\n\");\r\n    console.log(\"#############################\");\r\n    console.log(\"##         WINNERS         ##\");\r\n    console.log(\"#############################\");\r\n    var wonortiedText = 'WON';\r\n    if (tempWinners.length > 1) {\r\n      console.log(\" -- IT'S A TIE! -- \");\r\n      wonortiedText = 'TIED'\r\n    }\r\n    for (var tempWinner of tempWinners) {\r\n      let trail = this.trails.find(x => x.id == tempWinner.id);\r\n      console.log(`%c!!!! %cTRAIL [${trail.id}] %c${wonortiedText} WITH ${tempWinner.points} POINTS!!!!`, `color: auto`, `color: ${trail.color};`, `color: auto`);\r\n      this.winners.push(trail);\r\n    }\r\n  }\r\n\r\n  iterateTrails() {\r\n    let atLeastOneMoveMade = false;\r\n    for (let trail of this.trails.filter(x => x.alive)) {\r\n      try {\r\n        var move = trail.getMove(this.grid, trail.head);\r\n      } catch (ex) {\r\n        console.log(\"Error executing script: \", ex, trail.getMove);\r\n      }\r\n      let moveWasMade = trail.applyMove(this.grid, this.trails, trail.head, move) || false;\r\n      if (moveWasMade) {\r\n        atLeastOneMoveMade = true;\r\n      }\r\n    }\r\n    if (this.allBotsDead) {\r\n      this.determineWinners();\r\n    }\r\n  }\r\n\r\n  step() {\r\n    if (!this.allBotsDead) {\r\n      this.iterateTrails();\r\n    }\r\n  }\r\n}","export default \"// Clockwise bot - Example:\\nfunction getMove(grid, headPos) {\\n  var dir = Constants.MoveDirection;\\n  if (validMove(grid, headPos, dir.RIGHT)) return dir.RIGHT;\\n  if (validMove(grid, headPos, dir.DOWN)) return dir.DOWN;\\n  if (validMove(grid, headPos, dir.LEFT)) return dir.LEFT;\\n  if (validMove(grid, headPos, dir.UP)) return dir.UP;\\n  return dir.RIGHT;\\n}\\n\\nfunction validMove(grid, headPos, move) {\\n  var nextPos = new Point(headPos.x + move.x, headPos.y + move.y);\\n  var isOccupied = Grid.isOccupied(grid, nextPos);\\n  return isOccupied == false; // this works because isOccupied is \\n  //    exactly false if the square is free, \\n  //    true if occupied, \\n  //    undefined if out of bounds\\n}\";","export default \"// Counter-Clockwise bot - Example:\\nfunction getMove(grid, headPos) {\\n  var dir = Constants.MoveDirection;\\n  if (validMove(grid, headPos, dir.LEFT)) return dir.LEFT;\\n  if (validMove(grid, headPos, dir.DOWN)) return dir.DOWN;\\n  if (validMove(grid, headPos, dir.RIGHT)) return dir.RIGHT;\\n  if (validMove(grid, headPos, dir.UP)) return dir.UP;\\n  return dir.RIGHT;\\n}\\n\\nfunction validMove(grid, headPos, move) {\\n  var nextPos = new Point(headPos.x + move.x, headPos.y + move.y);\\n  var isOccupied = Grid.isOccupied(grid, nextPos);\\n  return isOccupied == false; // this works because isOccupied is \\n  //    exactly false if the square is free, \\n  //    true if occupied, \\n  //    undefined if out of bounds\\n}\";","import { render } from \"./tron-box.vue?vue&type=template&id=324311de&scoped=true\"\nimport script from \"./tron-box.vue?vue&type=script&lang=js\"\nexport * from \"./tron-box.vue?vue&type=script&lang=js\"\n\nimport \"./tron-box.vue?vue&type=style&index=0&id=324311de&scoped=true&lang=scss\"\n\nimport exportComponent from \"/mnt/c/Repos/tronbox/spa/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-324311de\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=90e1d654\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/c/Repos/tronbox/spa/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue';\nimport App from './App.vue'\n\nimport 'bootstrap'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nimport '@/styles/index.scss';\n\ncreateApp(App)\n    .mount('#app');\n\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktronbox\"] = self[\"webpackChunktronbox\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(5453); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_TronBox","class","_createElementVNode","_createElementBlock","_hoisted_2","_hoisted_4","id","$props","ref","width","height","onMousemove","$options","onMouseenter","onMouseexit","_hoisted_6","_hoisted_7","_Fragment","_renderList","_ctx","winners","winner","key","style","color","_toDisplayString","onClick","$event","type","js","Grid","constructor","grid","pos","length","x","y","occupied","map","col","cell","gridPosition","Point","flatMap","paper","require","Renderer","canvasId","this","reset","project","activeLayer","removeChildren","projects","forEach","console","log","remove","setup","undefined","trailStuff","colors","colorIndex","convertMousePosToGridPos","mousePos","intersectingCell","find","hitTest","render","trails","cellWidth","el","Path","Rectangle","Size","strokeColor","fillColor","trail","point","tail","trailCell","strokeWidth","shadowColor","shadowBlur","wireframe","head","position","Color","segments","at","add","headCell","bringToFront","headIndicator","Circle","alive","deadSymbolHead","triangle","RegularPolygon","Constants","MoveDirection","UP","DOWN","LEFT","RIGHT","Engine","window","path","gridWidth","createGrid","allBotsDead","every","push","createTrail","getMove","applyMove","headPos","moveDir","Object","keys","some","move","otherTrailId","otherTrail","parseRawJsIntoGetMoveFunction","raw_ai_js","usrGetMove","Function","getRandomValidPos","openSpots","filter","Math","floor","random","getRandomColor","addTrail","getMove_func","randomInt","min","max","hslToHex","h","s","l","a","f","n","k","round","toString","padStart","determineWinners","pointMap","reduce","prev","cur","points","mostPoints","sort","b","tempWinners","wonortiedText","tempWinner","iterateTrails","atLeastOneMoveMade","ex","moveWasMade","step","name","props","String","required","data","botA","botB","renderer","engine","paused","mouseIsOnCanvas","lastKeyPressed","computed","pauseBtnText","showWinnerText","mounted","addEventListener","keyDown","keyUp","clockwiseExampleAi","counterclockwiseExampleAi","start","methods","bot","clear","addInitialTrails","loop","togglePause","mouseEnter","mouseExit","addBotAtMousePos","gridPos","isOccupied","keyEvent","mouseMove","event","rect","$refs","canvas","getBoundingClientRect","clientX","left","clientY","top","setTimeout","__exports__","components","TronBox","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","splice","r","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","value","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}